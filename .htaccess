# Redirect to public folder if accessing root
# This file is useful if you cannot change your document root to /public

<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # If the request is not for a file in the public directory
    RewriteCond %{REQUEST_URI} !^/public/
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    
    # Redirect to public directory
    RewriteRule ^(.*)$ public/$1 [L]
    
    # If accessing index.php directly, redirect to public
    RewriteRule ^index\.php$ public/index.php [L]
</IfModule>

# Deny access to sensitive directories
<FilesMatch "^(config|database|app|logs)">
    Order allow,deny
    Deny from all
</FilesMatch>

# Prevent directory listing
Options -Indexes
